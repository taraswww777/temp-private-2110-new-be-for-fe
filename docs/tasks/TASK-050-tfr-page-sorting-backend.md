# TASK-050: Сортировка по размеру пакета на странице ТФР - Backend

**Статус**: ✅ Выполнено
**Ветка**: `feature/TASK-050-tfr-page-sorting-backend`

---

## Краткое описание

Добавить поддержку сортировки по размеру пакета для страницы ТФР на Backend.

---

## Исходное описание задачи

> Данный раздел содержит оригинальное описание задачи для оперативного обращения.

**Источник:** [Замечания от 06.02.2026](https://github.com/taraswww777/temp-private-2110-new-be-for-fe/blob/feature/Masha/docs/Правки%20от%2006.02.md#6406)

### Страница ТФР

Добавить Сортировку по размеру пакета

---

## Цели

- Добавить поддержку сортировки по размеру пакета для страницы ТФР
- Обеспечить сортировку по возрастанию и убыванию

---

## Детальное описание

### Контекст

На странице ТФР необходимо добавить возможность сортировки пакетов по размеру для удобства пользователей.

### Требования

#### Endpoint для страницы ТФР

**Endpoint:** `GET /api/v1/report-6406/tfr/packages` (или аналогичный)

**Параметры сортировки:**
```json
{
  "sorting": {
    "column": "size",
    "direction": "asc" // или "desc"
  },
  "pagination": {...},
  "filter": [...]
}
```

**Логика:**
- Сортировка по размеру пакета (totalSize или usedSize)
- Поддержка сортировки по возрастанию и убыванию
- Совместимость с другими параметрами (пагинация, фильтры)

---

## Критерии приёмки

- [ ] Добавлена поддержка сортировки по размеру пакета
- [ ] Сортировка работает по возрастанию и убыванию
- [ ] Сортировка совместима с пагинацией и фильтрами
- [ ] Обновлена OpenAPI спецификация
- [ ] Добавлены unit-тесты

---

## Порядок выполнения

1. Проанализировать текущий endpoint страницы ТФР
2. Добавить поддержку сортировки по размеру
3. Обновить OpenAPI спецификацию
4. Написать unit-тесты
5. Протестировать сортировку

---

## Связанные документы

- [Замечания от 06.02.2026](https://github.com/taraswww777/temp-private-2110-new-be-for-fe/blob/feature/Masha/docs/Правки%20от%2006.02.md)

## Уточнения

При анализе кода было выявлено, что функциональность сортировки по размеру пакета уже реализована в системе:

1. В схеме `packages.schema.ts` уже добавлен параметр `totalSize` в enum `sortBy`
2. В сервисе `packages.service.ts` уже реализована логика сортировки по `totalSize`

Таким образом, требуемая функциональность уже присутствует в коде, и дополнительная реализация не требуется.
