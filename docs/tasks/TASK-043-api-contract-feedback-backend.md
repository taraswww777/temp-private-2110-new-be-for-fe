# TASK-043: –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ API –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –æ—Ç Backend

**–°—Ç–∞—Ç—É—Å**: üìã –ë—ç–∫–ª–æ–≥  
**–í–µ—Ç–∫–∞**: `feature/TASK-043-api-contract-feedback-backend`

---

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏: –¥–æ–±–∞–≤–∏—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤–∞–ª—é—Ç, —É–±—Ä–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ endpoints, –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É endpoints —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å AccountMasks.

---

## –ò—Å—Ö–æ–¥–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

> –î–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è.

**–ò—Å—Ç–æ—á–Ω–∏–∫:** [–ó–∞–º–µ—Ç–∫–∏ –æ—Ç 05.02.2026](../../../temp-private-2110/docs/notes/2026-02-05.md#–æ–±—Ä–∞—Ç–Ω–∞—è-—Å–≤—è–∑—å-–ø–æ-api-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—É-–æ—Ç-be-—Ç–∞—Ä–∞—Å)

---

## –¶–µ–ª–∏

- –î–æ–±–∞–≤–∏—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç
- –£–±—Ä–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ endpoints
- –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É endpoints —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å AccountMasks –≤ –≤–∏–¥–µ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
- –î–æ–±–∞–≤–∏—Ç—å endpoint –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `/references` –≤ `/dictionary`
- –ü—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∏–º—è endpoint —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞–Ω–∏–π

---

## –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

### –ö–æ–Ω—Ç–µ–∫—Å—Ç

–ù–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –æ—Ç –∫–æ–º–∞–Ω–¥—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ API –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 1. –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç

**–î–æ–±–∞–≤–∏—Ç—å endpoint:**
- `GET /api/v1/report-6406/dictionary/currencies` (–ø–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è)

**Response:**
```json
{
  "currencies": [
    {
      "code": "RUB",
      "name": "–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å"
    },
    {
      "code": "USD",
      "name": "–î–æ–ª–ª–∞—Ä –°–®–ê"
    }
  ]
}
```

#### 2. –£–±—Ä–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ endpoints

**–£–¥–∞–ª–∏—Ç—å:**
- `/api/v1/report-6406/references/report-types`

#### 3. –û–±–Ω–æ–≤–∏—Ç—å endpoints —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤

**–¢–µ–∫—É—â–∏–µ endpoints:**
- `/api/v1/report-6406/references/branches`
- `/api/v1/report-6406/references/sources`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `/references` –≤ `/dictionary`
- –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É response –¥–ª—è branches

**–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç `/dictionary/branches`:**
```json
{
  "branches": [
    {
      "id": 21,
      "codeCB": "00",
      "codeDAPP": "00000",
      "name": "–§–∏–ª–∏–∞–ª –ë–∞–Ω–∫–∞ –≤ –≥. –í–æ—Ä–æ–Ω–µ–∂"
    }
  ]
}
```

**–ù–æ–≤—ã–π endpoint `/dictionary/sources`:**
- –í back: `/reference/origin`
- –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `/dictionary`

#### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ AccountMasks

**Endpoint:** `GET /api/v1/report-6406/dictionary/account-masks`

**Response (—Å–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫):**
```json
[
  {
    "firstAccount": 123,
    "secondAccounts": [12345, 12545]
  },
  {
    "firstAccount": 456,
    "secondAccounts": [67890, 67891]
  }
]
```

#### 5. –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

**Endpoint:** `GET /api/v1/report-6406/dictionary/employee/{adLogin}`

**Response:**
```json
{
  "fullName": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
  "adLogin": "vtb12345678"
}
```

**DTO:**
- `fullName` (string, maxLength: 50) - –§–ò–û —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- `adLogin` (string, maxLength: 30, pattern: `^([^–ê-–Ø–∞-—è\\,\\s\\:]+)$`) - AD-–ª–æ–≥–∏–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –±–µ–∑ –¥–æ–º–µ–Ω–∞

#### 6. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ `/references` –≤ `/dictionary`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –í—Å–µ endpoints `/api/v1/report-6406/references/*` ‚Üí `/api/v1/report-6406/dictionary/*`
- –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

#### 7. –ü—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ –∏–º–µ–Ω–∏ endpoint —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞–Ω–∏–π

**–¢–µ–∫—É—â–∏–π endpoint:**
- `/api/v1/report-6406/tasks/list`

**–¢—Ä–µ–±—É–µ—Ç—Å—è:**
- –ü—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ –∏–º—è endpoint
- –í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
  - `/api/v1/report-6406/tasks` (GET —Å query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏)
  - `/api/v1/report-6406/tasks/search`
  - –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤–∞–ª—é—Ç
- [ ] –î–æ–±–∞–≤–ª–µ–Ω endpoint `/api/v1/report-6406/dictionary/currencies`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

### –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö endpoints
- [ ] –£–¥–∞–ª—ë–Ω endpoint `/api/v1/report-6406/references/report-types`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ endpoints —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω endpoint `/dictionary/branches` —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω endpoint `/dictionary/sources`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

### AccountMasks
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω endpoint `/api/v1/report-6406/dictionary/account-masks`
- [ ] Response –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

### –î–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω endpoint `/api/v1/report-6406/dictionary/employee/{adLogin}`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è adLogin
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

### –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- [ ] –í—Å–µ endpoints `/references` –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã –≤ `/dictionary`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ò–º—è endpoint —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞–Ω–∏–π
- [ ] –ü—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω–æ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ –Ω–æ–≤–æ–µ –∏–º—è
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û–±—â–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
- [ ] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –û–±–µ—Å–ø–µ—á–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏–ª–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã breaking changes

---

## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É endpoints —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
2. –î–æ–±–∞–≤–∏—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤–∞–ª—é—Ç
3. –£–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ endpoints
4. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É endpoints —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å AccountMasks –∫–∞–∫ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
6. –î–æ–±–∞–≤–∏—Ç—å endpoint –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
7. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `/references` –≤ `/dictionary`
8. –ü—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∏–º—è endpoint —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞–Ω–∏–π
9. –û–±–Ω–æ–≤–∏—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
10. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
11. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [–ó–∞–º–µ—Ç–∫–∏ –æ—Ç 05.02.2026](../temp-private-2110/docs/notes/2026-02-05.md)

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–∞

| –î–∞—Ç–∞ | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------|--------|-------------|
| 2026-02-06 | üìã –ë—ç–∫–ª–æ–≥ | –ó–∞–¥–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ |
