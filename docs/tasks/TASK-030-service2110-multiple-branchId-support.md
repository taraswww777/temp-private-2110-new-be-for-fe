# TASK-030: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö branchId –≤ service2110

**–°—Ç–∞—Ç—É—Å**: üìã –ë—ç–∫–ª–æ–≥  
**–í–µ—Ç–∫–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)**: `feature/TASK-030-service2110-multiple-branchId-support`  

---

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–í `temp-private-2110` (FE –¥–ª—è —Ñ–æ—Ä–º—ã 6406) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä —Ñ–∏–ª–∏–∞–ª–æ–≤ –≤ –ø–æ–ª–µ `DepartmentField`.  
–°–µ–π—á–∞—Å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è –≤ API2 (`service2110`) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω `branchId` ‚Äî –±–µ—Ä—ë—Ç—Å—è –ø–µ—Ä–≤—ã–π –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∏–ª–∏–∞–ª.  
–ù—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å `service2110`, —á—Ç–æ–±—ã –æ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ `branchId` –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å —ç—Ç–æ —Å —Ç–µ–∫—É—â–∏–º FE.

---

## –¶–µ–ª–∏

- –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö `branchId` –≤ `service2110` –¥–ª—è —Ñ–æ—Ä–º—ã 6406.
- –£—Å—Ç—Ä–∞–Ω–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π workaround ¬´–∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–≤—ã–π –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∏–ª–∏–∞–ª¬ª.
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç API2 –∏ FE.

---

## –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

1. **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ API2 (`service2110`)**:
   - –í—ã—è—Å–Ω–∏—Ç—å, –∫–∞–∫–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ DTO –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–ª–µ `branchId` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞–Ω–∏–π –ø–æ —Ñ–æ—Ä–º–µ 6406.
   - –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–æ–¥–∏–Ω–æ—á–Ω—ã–π `branchId`).

2. **–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö `branchId`**:
   - –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∏–ª–∏–∞–ª–æ–≤:
     - –ª–∏–±–æ –º–∞—Å—Å–∏–≤ `branchIds: string[]`,
     - –ª–∏–±–æ —Å–æ–≤–º–µ—Å—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (–æ–¥–∏–Ω–æ—á–Ω—ã–π `branchId` + –º–∞—Å—Å–∏–≤ `branchIds`) —Å –±—ç–∫—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é.
   - –û–ø–∏—Å–∞—Ç—å, –∫–∞–∫ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–∏–ª–∏–∞–ª—ã –¥–æ–ª–∂–Ω—ã –æ—Ç—Ä–∞–∂–∞—Ç—å—Å—è:
     - –≤ –º–æ–¥–µ–ª–∏ –∑–∞–¥–∞—á–∏ (Task / TaskDetails / TaskListItem),
     - –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö —Å–ø–∏—Å–∫–æ–≤ –∑–∞–¥–∞—á.

3. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `service2110`**:
   - –û–±–Ω–æ–≤–∏—Ç—å DTO –∏ —Å—Ö–µ–º—ã (`CreateTaskDto`, —Ñ–∏–ª—å—Ç—Ä—ã —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞), —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–∏–ª–∏–∞–ª—ã.
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–∏–ª–∏–∞–ª–∞–º–∏:
     - –∑–∞–ø–∏—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∏–ª–∏–∞–ª–æ–≤ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ,
     - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞/—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è.
   - –û–±–Ω–æ–≤–∏—Ç—å Swagger-—Å–ø–µ–∫—É –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å.

4. **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Å FE (`temp-private-2110`)**:
   - –û–ø–∏—Å–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ FE (–æ—Ç–¥–µ–ª—å–Ω–æ–π –∑–∞–¥–∞—á–µ–π –¥–ª—è —Ñ—Ä–æ–Ω—Ç–∞),
     —á—Ç–æ–±—ã:
     - –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –º–∞—Å—Å–∏–≤ —Ñ–∏–ª–∏–∞–ª–æ–≤ –≤ API2,
     - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∑–∞–¥–∞—á–∏ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–∏–ª–∏–∞–ª–∞–º–∏.

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

- [ ] –í Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ `service2110` –æ–ø–∏—Å–∞–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö `branchId` (—Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á).
- [ ] DTO –∏ –º–æ–¥–µ–ª–∏ –≤ `service2110` –ø–æ–∑–≤–æ–ª—è—é—Ç –∑–∞–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∏–ª–∏–∞–ª–æ–≤ –¥–ª—è –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏.
- [ ] –õ–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –≤—ã–±–æ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–∏–ª–∏–∞–ª–∞–º–∏.
- [ ] –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å FE –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–∏–ª–∏–∞–ª–∞–º–∏.
- [ ] –û–ø–∏—Å–∞–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è FE (–Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ —Ä–∞–º–∫–∞—Ö –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏).

---

## –û–±–ª–∞—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –§–∞–π–ª / –º–æ–¥—É–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------|----------|
| `service2110` (–º–æ–¥–µ–ª–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á) | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö `branchId` |
| Swagger-—Å–ø–µ–∫–∞ `service2110` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è DTO –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ |

---

## –í–Ω–µ –≥—Ä–∞–Ω–∏—Ü –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏

- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ `temp-private-2110` (FE) ‚Äî —Ç–æ–ª—å–∫–æ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ —Ñ–æ—Ä–º–∞—Ç –æ–∂–∏–¥–∞–µ–º–æ–≥–æ API.
- –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π `branchId` / `branchIds` –≤ `service2110`.

---

## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `branchId` –≤ `service2110`.
2. –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å –∏ —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∏–ª–∏–∞–ª–æ–≤.
3. –û–±–Ω–æ–≤–∏—Ç—å DTO, –º–æ–¥–µ–ª–∏ –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é Swagger.
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –ø–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `service2110`.
5. –û–ø–∏—Å–∞—Ç—å, –∫–∞–∫ FE –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã.

---

## –£—Ç–æ—á–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

> –ó–¥–µ—Å—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É `branchIds`, —Å—Ü–µ–Ω–∞—Ä–∏—è–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∫ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

