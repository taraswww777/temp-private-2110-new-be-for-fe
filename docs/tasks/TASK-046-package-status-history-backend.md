# TASK-046: –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–∞–∫–µ—Ç–∞ - Backend

**–°—Ç–∞—Ç—É—Å**: üìã –ë—ç–∫–ª–æ–≥  
**–í–µ—Ç–∫–∞**: `feature/TASK-046-package-status-history-backend`

---

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–∞–∫–µ—Ç–∞ –Ω–∞ Backend: –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É "–°—Ç–∞—Ç—É—Å –ø–∞–∫–µ—Ç–∞" –≤ —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤, —Å–æ–∑–¥–∞—Ç—å endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–∞–∫–µ—Ç–∞.

---

## –ò—Å—Ö–æ–¥–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

> –î–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è.

**–ò—Å—Ç–æ—á–Ω–∏–∫:** [–ó–∞–º–µ—á–∞–Ω–∏—è –æ—Ç 06.02.2026](https://github.com/taraswww777/temp-private-2110-new-be-for-fe/blob/feature/Masha/docs/–ü—Ä–∞–≤–∫–∏%20–æ—Ç%2006.02.md#6406)

### –°–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤. –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –ü–∞–∫–µ—Ç–∞

1. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É "–°—Ç–∞—Ç—É—Å –ø–∞–∫–µ—Ç–∞" - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–∞–∫–µ—Ç–∞

2. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª "–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–∞–∫–µ—Ç–∞" (–ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á–∏`, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ–¥ –≤–æ–ø—Ä–æ—Å–æ–º?!!!!!!!!!!!!!!!!!!!!)

–û—Ç–æ–±—Ä–∞–∂–∞–µ–º:
‚Ä¢ –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞
‚Ä¢ –°—Ç–∞—Ç—É—Å
‚Ä¢ –°–æ—Ç—Ä—É–¥–Ω–∏–∫ - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–ª/ –∏–∑–º–µ–Ω–∏–ª –ø–∞–∫–µ—Ç

3. –°—Ç–∞—Ç—É—Å—ã –ø–∞–∫–µ—Ç–∞: <https://sfera.inno.local/knowledge/pages?id=1799080>

### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞. –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –ü–∞–∫–µ—Ç–∞

–û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–µ –∫–∞–∫ –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ó–∞–¥–∞—á–∏ –Ω–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–∞

---

## –¶–µ–ª–∏

- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É "–°—Ç–∞—Ç—É—Å –ø–∞–∫–µ—Ç–∞" –≤ —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–∞–∫–µ—Ç–∞
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞–∫–µ—Ç–∞

---

## –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

### –ö–æ–Ω—Ç–µ–∫—Å—Ç

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–∞–∫–µ—Ç–∞ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á–∏. –°—Ç–∞—Ç—É—Å—ã –ø–∞–∫–µ—Ç–∞ –æ–ø–∏—Å–∞–Ω—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 1. –ö–æ–ª–æ–Ω–∫–∞ "–°—Ç–∞—Ç—É—Å –ø–∞–∫–µ—Ç–∞" –≤ —Å–ø–∏—Å–∫–µ –ø–∞–∫–µ—Ç–æ–≤

**Endpoint:** `GET /api/v1/report-6406/packages` (–∏–ª–∏ POST –¥–ª—è —Å–ø–∏—Å–∫–∞)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `status` –≤ `PacketDto` (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–∞–∫–µ—Ç–∞ –≤ —Å–ø–∏—Å–∫–µ

#### 2. Endpoint –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–∞–∫–µ—Ç–∞

**Endpoint:** `GET /api/v1/report-6406/packages/:id/status-history`

**Response:**
```json
{
  "items": [
    {
      "status": "created",
      "changedAt": "2026-02-05T10:00:00Z",
      "changedBy": "user.login",
      "packetName": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞"
    },
    {
      "status": "copying",
      "changedAt": "2026-02-05T11:00:00Z",
      "changedBy": "user.login",
      "packetName": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞"
    }
  ],
  "totalItems": 2
}
```

**–ü–æ–ª—è:**
- `status` - —Å—Ç–∞—Ç—É—Å –ø–∞–∫–µ—Ç–∞ (enum –∏–∑ —Å—Ç–∞—Ç—É—Å–Ω–æ–π –º–æ–¥–µ–ª–∏)
- `changedAt` - –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
- `changedBy` - –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏–∑–º–µ–Ω–∏–≤—à–µ–≥–æ —Å—Ç–∞—Ç—É—Å
- `packetName` - –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞ (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ–¥ –≤–æ–ø—Ä–æ—Å–æ–º, —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ.

#### 3. –°—Ç–∞—Ç—É—Å—ã –ø–∞–∫–µ—Ç–∞

**–ò—Å—Ç–æ—á–Ω–∏–∫:** <https://sfera.inno.local/knowledge/pages?id=1799080>

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å–Ω—É—é –º–æ–¥–µ–ª—å –ø–∞–∫–µ—Ç–∞.

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

### –ö–æ–ª–æ–Ω–∫–∞ "–°—Ç–∞—Ç—É—Å –ø–∞–∫–µ—Ç–∞"
- [ ] –ü–æ–ª–µ `status` –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ `PacketDto`
- [ ] –°–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

### –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–∞–∫–µ—Ç–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω endpoint `GET /api/v1/report-6406/packages/:id/status-history`
- [ ] Endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–∞–∫–µ—Ç–∞
- [ ] –î–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã unit-—Ç–µ—Å—Ç—ã

### –°—Ç–∞—Ç—É—Å–Ω–∞—è –º–æ–¥–µ–ª—å
- [ ] –ò–∑—É—á–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –ø–∞–∫–µ—Ç–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å—Ç–∞—Ç—É—Å–Ω–∞—è –º–æ–¥–µ–ª—å —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [ ] Enum —Å—Ç–∞—Ç—É—Å–æ–≤ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ Swagger

### –û–±—â–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
- [ ] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

---

## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ò–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –ø–∞–∫–µ—Ç–∞
2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
3. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `status` –≤ `PacketDto`
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoint –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
5. –û–±–Ω–æ–≤–∏—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
6. –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã
7. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [–ó–∞–º–µ—á–∞–Ω–∏—è –æ—Ç 06.02.2026](https://github.com/taraswww777/temp-private-2110-new-be-for-fe/blob/feature/Masha/docs/–ü—Ä–∞–≤–∫–∏%20–æ—Ç%2006.02.md)
- [–°—Ç–∞—Ç—É—Å—ã –ø–∞–∫–µ—Ç–∞](https://sfera.inno.local/knowledge/pages?id=1799080)
- TASK-027: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á–∏

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–∞

| –î–∞—Ç–∞ | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------|--------|-------------|
| 2026-02-06 | üìã –ë—ç–∫–ª–æ–≥ | –ó–∞–¥–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ |

---

## –£—Ç–æ—á–Ω–µ–Ω–∏—è

**–í–∞–∂–Ω–æ:** –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–∞–∫–µ—Ç–∞ –ø–æ–¥ –≤–æ–ø—Ä–æ—Å–æ–º. –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã.
