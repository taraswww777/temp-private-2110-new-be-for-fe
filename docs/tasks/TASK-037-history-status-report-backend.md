# TASK-037: –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –æ—Ç—á–µ—Ç–∞ - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å Backend

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ  
**–í–µ—Ç–∫–∞**: `feature/TASK-037-history-status-report-backend`

---

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–æ–¥–∞–ª–∫–∏ "–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –æ—Ç—á–µ—Ç–∞" —Å Backend –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∫–æ–≤.

---

## –ò—Å—Ö–æ–¥–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

> –î–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è.

**–ò—Å—Ç–æ—á–Ω–∏–∫:** [–ó–∞–º–µ—Ç–∫–∏ –æ—Ç 05.02.2026](../temp-private-2110/docs/notes/2026-02-05.md#–∏—Å—Ç–æ—Ä–∏—è-—Å—Ç–∞—Ç—É—Å–æ–≤-–æ—Ç—á–µ—Ç–∞-—Ç–∞—Ä–∞—Å)

```
–î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–¥–∞–ª–∫–∏ `–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –æ—Ç—á–µ—Ç–∞` –Ω—É–∂–Ω–æ –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å BE.
```

---

## –¶–µ–ª–∏

- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –æ—Ç—á–µ—Ç–∞
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å Backend –≤ –º–æ–¥–∞–ª–∫—É –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- –£–±—Ä–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–∫–æ–≤ –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ UI

---

## –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

### –ö–æ–Ω—Ç–µ–∫—Å—Ç

–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –º–æ–¥–∞–ª–∫–∞ "–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –æ—Ç—á–µ—Ç–∞" –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å Backend.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### Backend Endpoint

**Endpoint:** `GET /api/v1/report-6406/tasks/{taskId}/status-history`

**Response:** –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ `StatusHistoryItemDto[]` (–±–µ–∑ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏)
```json
[
  {
    "id": "uuid",
    "status": "created",
    "previousStatus": null,
    "changedAt": "2026-02-05T10:00:00Z",
    "changedBy": "user.login",
    "comment": "–ó–∞–¥–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ",
    "metadata": null
  },
  {
    "id": "uuid",
    "status": "started",
    "previousStatus": "created",
    "changedAt": "2026-02-05T11:00:00Z",
    "changedBy": "user.login",
    "comment": "–ó–∞–¥–∞–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ",
    "metadata": null
  }
]
```

**–ü–æ–ª—è:**
- `id` - UUID –∑–∞–ø–∏—Å–∏ –∏—Å—Ç–æ—Ä–∏–∏
- `status` - —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞–Ω–∏—è (enum –∏–∑ —Å—Ç–∞—Ç—É—Å–Ω–æ–π –º–æ–¥–µ–ª–∏)
- `previousStatus` - –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å—Ç–∞—Ç—É—Å (–º–æ–∂–µ—Ç –±—ã—Ç—å null)
- `changedAt` - –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ (ISO 8601)
- `changedBy` - –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏–∑–º–µ–Ω–∏–≤—à–µ–≥–æ —Å—Ç–∞—Ç—É—Å (–º–æ–∂–µ—Ç –±—ã—Ç—å null)
- `comment` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å—Ç–∞—Ç—É—Å–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å null)
- `metadata` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–º–æ–∂–µ—Ç –±—ã—Ç—å null)

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Frontend

- –û–±–Ω–æ–≤–∏—Ç—å API –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª–∫–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫
- –£–±—Ä–∞—Ç—å –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

### Backend
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω endpoint `GET /api/v1/report-6406/tasks/{taskId}/status-history` (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤ TASK-027)
- [x] Endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
- [x] –î–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `report_6406_task_status_history`
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º, DESC)
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404)
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã unit-—Ç–µ—Å—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Frontend (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- [x] –û–±–Ω–æ–≤–ª–µ–Ω API –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ (RTK Query `useGetTaskStatusHistoryQuery`)
- [x] –ú–æ–¥–∞–ª–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å Backend (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ReportDetailCardTabMenu` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RTK Query)
- [x] –£–±—Ä–∞–Ω—ã –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–º–æ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ dev-—Ä–µ–∂–∏–º–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- [x] –û–±—Ä–∞–±–æ—Ç–∞–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫ (—á–µ—Ä–µ–∑ RTK Query –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `skip`)

---

## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã `report_6406_task_status_history`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoint –Ω–∞ Backend
3. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
4. –û–±–Ω–æ–≤–∏—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
5. –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã
6. –û–±–Ω–æ–≤–∏—Ç—å Frontend (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
7. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [–ó–∞–º–µ—Ç–∫–∏ –æ—Ç 05.02.2026](../temp-private-2110/docs/notes/2026-02-05.md)
- TASK-027: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á–∏

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏

- **–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2026-02-12
- **Backend —ç–Ω–¥–ø–æ–∏–Ω—Ç**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö [TASK-027](TASK-027-add-task-status-history-endpoint.md)
- **–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞**: –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ `StatusHistoryItemDto[]` –≤–º–µ—Å—Ç–æ –æ–±—ë—Ä—Ç–∫–∏ `{items: [], totalItems: number}`. –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ TASK-027 –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ frontend.
- **Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è RTK Query —Ö—É–∫ `useGetTaskStatusHistoryQuery` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å backend. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `ReportDetailCardTabMenu` –∏ `ReportDetailsStatusesHistory` –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–∞–Ω–Ω—ã–µ —Å backend.
- **–ú–æ–∫–∏**: –ú–æ–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ TASK-028 –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ dev-—Ä–µ–∂–∏–º–µ —á–µ—Ä–µ–∑ webpack dev server –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –í production frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π backend API.

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–∞

| –î–∞—Ç–∞ | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------|--------|-------------|
| 2026-02-06 | üìã –ë—ç–∫–ª–æ–≥ | –ó–∞–¥–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ |
| 2026-02-12 | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ | Backend —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ TASK-027, frontend –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å backend |
