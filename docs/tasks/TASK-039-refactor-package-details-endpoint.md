# TASK-039: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ endpoint –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –ø–∞–∫–µ—Ç–∞

**–°—Ç–∞—Ç—É—Å**: üìã –ë—ç–∫–ª–æ–≥  
**–í–µ—Ç–∫–∞**: `feature/TASK-039-refactor-package-details-endpoint`

---

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ endpoint `/api/v1/report-6406/packages/:id`: —É–±—Ä–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –æ—Ç–¥–∞–≤–∞—Ç—å `tasks` –∏ `tasksPagination`, —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å DTO. –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤ –∑–∞–¥–∞—á –ø–∞–∫–µ—Ç–∞.

---

## –ò—Å—Ö–æ–¥–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

> –î–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è.

**–ò—Å—Ç–æ—á–Ω–∏–∫:** [–ó–∞–º–µ—Ç–∫–∏ –æ—Ç 05.02.2026](../temp-private-2110/docs/notes/2026-02-05.md#–ø–æ–ª—É—á–µ–Ω–∏–µ-–¥–µ—Ç–∞–ª–µ–π-–ø–∞–∫–µ—Ç–∞-—Ç–∞—Ä–∞—Å)

```
`'/api/v1/report-6406/packages/:id'` - –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–±–∏—Ä–∞–µ–º, –∏ –ø–µ—Ä–µ—Å—Ç–∞—ë–º –æ—Ç–¥–∞–≤–∞—Ç—å `tasks`, `tasksPagination`

–¢–µ–º —Å–∞–º—ã–º `PackageDto` –∏ `PackageDetailDto` —Å—Ç–∞–Ω—É—Ç —Ä–∞–≤–Ω—ã –∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `PackageDto`.

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –≤—Ö–æ–¥—è—â–∏—Ö –≤ –ø–∞–∫–µ—Ç.
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –≤ –ø–∞–∫–µ—Ç–µ.

`'/api/v1/report-6406/packages/:id/includedTasks'` - –ø–æ–¥ –≤–æ–ø—Ä–æ—Å–æ–º, —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç BE
`'/api/v1/report-6406/packages/:id/excludedTasks'` - –ø–æ–¥ –≤–æ–ø—Ä–æ—Å–æ–º, —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç BE

–ù—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å —á—Ç–æ —ç—Ç–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞—Å—à–∏—Ä—è—Ç—å –Ω–∞–±–æ—Ä —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤ `/api/v1/report-6406/tasks/list`.

–°–µ–≥–æ–¥–Ω—è –¥–µ–ª–∞–µ–º —Ç–∞–∫:
–í `/api/v1/report-6406/tasks/list` –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `includedInPacket` –∏ `excludedInPacket`.
```

---

## –¶–µ–ª–∏

- –£–ø—Ä–æ—Å—Ç–∏—Ç—å endpoint –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –ø–∞–∫–µ—Ç–∞
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å DTO (–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å `PackageDto` –∏ `PackageDetailDto`)
- –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∑–∞–¥–∞—á –ø–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –∫ –ø–∞–∫–µ—Ç—É
- –û–±–µ—Å–ø–µ—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ –∑–∞–¥–∞—á –ø–∞–∫–µ—Ç–∞

---

## –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

### –ö–æ–Ω—Ç–µ–∫—Å—Ç

–¢–µ–∫—É—â–∏–π endpoint `/api/v1/report-6406/packages/:id` –∏–º–µ–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–¥–∞—á–∏ –ø–∞–∫–µ—Ç–∞. –≠—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ endpoint

**Endpoint:** `GET /api/v1/report-6406/packages/:id`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–±—Ä–∞—Ç—å –≤—Å–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –£–±—Ä–∞—Ç—å –ø–æ–ª—è `tasks` –∏ `tasksPagination` –∏–∑ response
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—ã–π `PackageDto` –≤–º–µ—Å—Ç–æ `PackageDetailDto`

**Response (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π):**
```json
{
  "id": "uuid",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞",
  "status": "created",
  "createdAt": "2026-02-05T10:00:00Z",
  "createdBy": "user.login",
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –±–µ–∑ tasks –∏ tasksPagination
}
```

#### 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á –ø–æ –ø–∞–∫–µ—Ç—É

**Endpoint:** `POST /api/v1/report-6406/tasks/list`

**–ù–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ Request Body:**
```json
{
  "pagination": {...},
  "sorting": {...},
  "filter": [...],
  "includedInPacket": "uuid-–ø–∞–∫–µ—Ç–∞",  // –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
  "excludedInPacket": "uuid-–ø–∞–∫–µ—Ç–∞"   // –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
}
```

**–õ–æ–≥–∏–∫–∞:**
- `includedInPacket` - –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏, –≤—Ö–æ–¥—è—â–∏–µ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç
- `excludedInPacket` - –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏, –ù–ï –≤—Ö–æ–¥—è—â–∏–µ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏–µ (–Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (–ø–æ–¥ –≤–æ–ø—Ä–æ—Å–æ–º):**
- `GET /api/v1/report-6406/packages/:id/includedTasks` - –∑–∞–¥–∞—á–∏ –ø–∞–∫–µ—Ç–∞
- `GET /api/v1/report-6406/packages/:id/excludedTasks` - –∑–∞–¥–∞—á–∏ –Ω–µ –≤ –ø–∞–∫–µ—Ç–µ

**–†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –Ω–∞ Backend.**

#### 3. –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–æ–≤

–ù–æ–≤—ã–µ endpoints –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `/api/v1/report-6406/tasks/list`:
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

### –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ endpoint
- [ ] –£–±—Ä–∞–Ω—ã –≤—Å–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ `GET /api/v1/report-6406/packages/:id`
- [ ] –£–±—Ä–∞–Ω—ã –ø–æ–ª—è `tasks` –∏ `tasksPagination` –∏–∑ response
- [ ] `PackageDto` –∏ `PackageDetailDto` –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ –æ–¥–∏–Ω `PackageDto`
- [ ] –£–¥–∞–ª—ë–Ω `PackageDetailDto` –∏–∑ –∫–æ–¥–∞
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è endpoint

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á –ø–æ –ø–∞–∫–µ—Ç—É
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `includedInPacket` –∏ `excludedInPacket` –≤ `/api/v1/report-6406/tasks/list`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á –ø–æ –ø–∞–∫–µ—Ç—É
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏–µ (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã, –ø–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã unit-—Ç–µ—Å—Ç—ã

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã endpoints `/api/v1/report-6406/packages/:id/includedTasks` –∏ `/excludedTasks`
- [ ] Endpoints –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏–∑ `/api/v1/report-6406/tasks/list`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã unit-—Ç–µ—Å—Ç—ã

### –û–±—â–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
- [ ] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞ –∏–ª–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∞ —Å Frontend
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

---

## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É `PackageDto` –∏ `PackageDetailDto`
2. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å DTO –≤ –æ–¥–∏–Ω `PackageDto`
3. –£–ø—Ä–æ—Å—Ç–∏—Ç—å endpoint `GET /api/v1/report-6406/packages/:id`
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∑–∞–¥–∞—á –ø–æ –ø–∞–∫–µ—Ç—É (–≤—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
5. –û–±–Ω–æ–≤–∏—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
6. –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã
7. –û–±–Ω–æ–≤–∏—Ç—å Frontend (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
8. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [–ó–∞–º–µ—Ç–∫–∏ –æ—Ç 05.02.2026](../temp-private-2110/docs/notes/2026-02-05.md)
- TASK-013: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –ø–∞–∫–µ—Ç

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–∞

| –î–∞—Ç–∞ | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------|--------|-------------|
| 2026-02-06 | üìã –ë—ç–∫–ª–æ–≥ | –ó–∞–¥–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ |
