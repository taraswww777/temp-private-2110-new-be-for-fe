# TASK-044: Улучшения формы "Список файлов" в универсальном отчёте

**Статус**: ✅ Выполнено
**Ветка**: `feature/TASK-044-universal-report-file-list-improvements`

---

## Краткое описание

Убрать столбец "Статус" из формы "Список файлов", сделать вкладку доступной только для заданий в статусе "Выполнено", улучшить форму подтверждения удаления задания.

---

## Исходное описание задачи

> Данный раздел содержит оригинальное описание задачи для оперативного обращения.

**Источник:** [Замечания от 06.02.2026](https://github.com/taraswww777/temp-private-2110-new-be-for-fe/blob/feature/Masha/docs/Правки%20от%2006.02.md#универсальный-отчет)

### 1. В форме "Список файлов" убрать столбец "Статус"
Причина: сейчас по дефолту будут в списке файлов отображены файлы с успешным статусом

### 2. Вкладка "Список файлов" отображается и активна только для заданий в финальном статусе task_done (Выполнено)

### 3. Процесс "Удаление задания". Дополнительная форма подтверждения удаления должна содержать:
- Текст: Вы собираетесь удалить {N} заданий
- Предупреждение: Будут удалены все связанные элементы с заданием: папка, файлы (над текстом можно еще подумать)

---

## Цели

- Убрать столбец "Статус" из таблицы списка файлов
- Ограничить доступ к вкладке "Список файлов" только для выполненных заданий
- Улучшить форму подтверждения удаления задания

---

## Детальное описание

### Контекст

В форме "Список файлов" отображается столбец "Статус", который не нужен, так как по умолчанию показываются только файлы с успешным статусом. Также необходимо ограничить доступ к вкладке и улучшить UX при удалении заданий.

### Требования

#### 1. Убрать столбец "Статус"

**Изменения:**
- Удалить столбец "Статус" из таблицы "Список файлов"
- Обновить структуру таблицы
- Обновить типы данных (если требуется)

**Обоснование:**
По умолчанию в списке файлов отображаются только файлы с успешным статусом, поэтому столбец "Статус" избыточен.

#### 2. Ограничить доступ к вкладке "Список файлов"

**Условие:**
- Вкладка "Список файлов" отображается и активна только если статус задания = `task_done` (Выполнено)

**Реализация:**
- Проверять статус задания перед отображением вкладки
- Если статус не "Выполнено" - скрывать или блокировать вкладку
- Возможно, показывать сообщение о недоступности вкладки

#### 3. Улучшить форму подтверждения удаления

**Текущее состояние:**
- Базовая форма подтверждения

**Требуемое состояние:**
- Текст: "Вы собираетесь удалить {N} заданий"
  - {N} - количество выбранных заданий
  - Если одно задание: "Вы собираетесь удалить 1 задание"
- Предупреждение: "Будут удалены все связанные элементы с заданием: папка, файлы"
  - Текст можно доработать
  - Отображать над основным текстом

**UI структура:**
```
┌─────────────────────────────────────┐
│ ⚠️ Предупреждение                  │
│ Будут удалены все связанные        │
│ элементы с заданием: папка, файлы  │
├─────────────────────────────────────┤
│ Вы собираетесь удалить 3 заданий   │
│                                     │
│ [Отмена] [Удалить]                 │
└─────────────────────────────────────┘
```

---

## Критерии приёмки

### Убрать столбец "Статус"
- [ ] Удалён столбец "Статус" из таблицы "Список файлов"
- [ ] Обновлена структура таблицы
- [ ] Обновлены типы данных (если требуется)
- [ ] Таблица корректно отображается без столбца "Статус"

### Ограничить доступ к вкладке
- [ ] Вкладка "Список файлов" отображается только для заданий со статусом `task_done`
- [ ] Для заданий с другим статусом вкладка скрыта или заблокирована
- [ ] Пользователю понятно, почему вкладка недоступна (если требуется)

### Улучшить форму подтверждения удаления
- [ ] Форма показывает количество выбранных заданий
- [ ] Отображается предупреждение о связанных элементах
- [ ] Текст предупреждения понятен и информативен
- [ ] Форма корректно работает для одного и нескольких заданий

### Общие критерии
- [ ] Все изменения протестированы
- [ ] UI/UX улучшен
- [ ] Нет регрессий в функциональности

---

## Порядок выполнения

1. Проанализировать текущую структуру таблицы "Список файлов"
2. Удалить столбец "Статус"
3. Реализовать проверку статуса для отображения вкладки
4. Обновить форму подтверждения удаления
5. Протестировать все изменения
6. Улучшить тексты (если требуется)

---

## Связанные документы

- [Замечания от 06.02.2026](https://github.com/taraswww777/temp-private-2110-new-be-for-fe/blob/feature/Masha/docs/Правки%20от%2006.02.md)

---

